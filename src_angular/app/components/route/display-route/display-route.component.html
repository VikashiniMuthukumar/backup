

<div class="container mt-4">
  <h3 class="text-center text-info mb-4">All Routes</h3>
  <table class="table table-bordered table-striped text-center">
    <thead class="table-info">
      <tr>
        <th>ID</th>
        <th>Origin</th>
        <th>Destination</th>
        <th>Departure</th>
        <th>Arrival</th>
        <th>Base Fare</th>
        <th>Flight Code</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let route of routes">
        <td>{{ route.route_id }}</td>
        <td>{{ route.origin }}</td>
        <td>{{ route.destination }}</td>
        <td>{{ route.departureTime }}</td>
        <td>{{ route.arrivalTime }}</td>
        <td>â‚¹{{ route.baseFare }}</td>
        <td>{{ route.flightCode }}</td>
        <td>
          <button class="btn btn-warning btn-sm me-2" style="margin-right: 10px;" (click)="openEditModal(route)">Edit</button>
          <button class="btn btn-danger btn-sm" (click)="deleteRoute(route.route_id)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Edit Modal -->
<div class="modal" tabindex="-1" style="display: block;" *ngIf="showEditModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <form (ngSubmit)="updateRoute()" #editForm="ngForm">
        <div class="modal-header">
          <h5 class="modal-title">Edit Route</h5>
          <button type="button" class="btn-close" (click)="closeModal()"></button>
        </div>
        <div class="modal-body">
          <div class="form-group mb-2">
            <label>Origin</label>
            <input type="text" class="form-control" name="origin" [(ngModel)]="selectedRoute.origin" required />
          </div>

          <div class="form-group mb-2">
            <label>Destination</label>
            <input type="text" class="form-control" name="destination" [(ngModel)]="selectedRoute.destination" required />
          </div>

          <div class="form-group mb-2">
            <label>Departure Time</label>
            <input type="text" class="form-control" name="departureTime" [(ngModel)]="selectedRoute.departureTime" required />
          </div>

          <div class="form-group mb-2">
            <label>Arrival Time</label>
            <input type="text" class="form-control" name="arrivalTime" [(ngModel)]="selectedRoute.arrivalTime" required />
          </div>

          <div class="form-group mb-2">
            <label>Base Fare</label>
            <input type="number" class="form-control" name="baseFare" [(ngModel)]="selectedRoute.baseFare" required min="0" />
          </div>

          <div class="form-group mb-2">
            <label>Flight Code</label>
            <input type="text" class="form-control" name="flightCode" [(ngModel)]="selectedRoute.flightCode" required />
          </div>
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary" [disabled]="editForm.invalid">Save</button>
          <button type="button" class="btn btn-secondary" (click)="closeModal()">Cancel</button>
        </div>
      </form>
    </div>
  </div>
</div>
